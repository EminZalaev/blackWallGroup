# Тестовое задание в BlackWallGroup
 
## Описание:
Написать два сервиса "A" и "B".
Сервис "A" принимает по http запросы по переводу "средств", через kafka передаёт данные на сервис "B".
В запросе передаётся сумма и id заявки, реализовать защиту - нельзя создавать две заявки с одинковым id у одного пользователя.
Сервис "B" валидирует запросы и убеждается в наличии баланса, если баланс есть, то создаём заявку в postgres (баланс пользователя уменьшается).
Спустя 30 секунд после записи заявки в базу случайно выбрать статус для этой заявки успех / не успех.
При неуспехе средства возвращаются на баланс, в случае успеха баланс остаётся тем же.

Предусмотреть падения любого из сервисов, обеспечить консистентность  данных     
Желательно:
Наличие unit-тестов
Сервис "A" должен ограничивать количество запросов в секунду от каждого пользователя (10 запросов в секунду)

### Проблемы:
1. Время, т.к задание было прислано в будни, то на него получилось потратить буквально 4-5 часов, что недостаточно для \
полноценного выполнения задания в хорошем варианте. А кабы как лишь бы работало делать лично я не хочу.
2. Недостаточно было вводных данных, из-за этого нельзя было буквально сделать задание. Не понятно как идентифицировать \
пользователей, как понимать от кого прилетел запрос, как они хранятся в бд и тд. 


### Что успел сделать:
1. Скелеты сервисов и на 90% готов сервис ```transfer-service```("A")
2. Часть из доп заданий(```rate limiter```, ```unit tests``` в сервисе ```transfer-service```)
3. Написан на половину docker compose для удобного билда приложения(kafka + 2 service).


### Чтобы я сделал:
1. Для консистентности данных ввел бы для заявок статусы ```["PENDING","DECLINED","APPROVED"]``` \
и при передачи ставил бы в ```"PENDING"```, при успешной обработки ```"APPROVED"``` и при отказе `````"DECLINED"`````, \
соответственно доработал бы логику приложения которая роллбекает по отказую.
